USE r1 AS REFERENCE 10*10'10"/10*10'10"

CREATE TRACK SWITCH TURNOUT track1 REFERENCE $r1 STRAIGHT DELTA START +50:-50 END +50:+50 CURVE DELTA START +50:-50 END +100:0 DISTANCE ORIGIN +50
CREATE TRACK END track5 REFERENCE $r1 DELTA START +100:0 END +200:0
CREATE TRACK CURVE track2 REFERENCE $r1 DELTA START -50:+50 END +50:+50 DISTANCE ORIGIN +5
CREATE TRACK STRAIGHT track3 REFERENCE $r1 DELTA START -50:+50 END -50:-50
CREATE TRACK CURVE track4 REFERENCE $r1 DELTA START +50:-50 END -50:-50 DISTANCE ORIGIN -5

CREATE TRACK LAYOUT oval WITH TRACKS track1 track2 track3 track4 track5

CREATE STOCK ENGINE engine1 AS DIESEL ON TRACK track1 DISTANCE 0 from START FACING END

CREATE STOCK CAR caboose1 AS CABOOSE
CREATE STOCK CAR box1 AS BOX

LOCATE STOCK box1 ON TRACK track4 DISTANCE 26 FROM START
LOCATE STOCK caboose1 ON TRACK track4 DISTANCE 18 FROM START

COUPLE STOCK engine1 AND caboose1
COUPLE STOCK caboose1 AND box1

COMMIT

OPEN VIEW myview1 ORIGIN $r1 WORLD WIDTH 500 SCREEN WIDTH 1000 HEIGHT 1000

DO SET REFERENCE ENGINE engine1
DO SET engine1 DIRECTION BACKWARD
DO SET engine1 SPEED 1500
@WAIT 15
DO SELECT SWITCH track1 PATH SECONDARY
