THIS TEST IS FILLED WITH ERRORS BECAUSE OF THE OCR 

COPY WITH CAUTION

// test 1
// @RUN '/home/dtappan/IdeaProjects/cs350-f20-train/scripts/testi.cts'

@CLOCK 10 0.01

USE rl AS REFERENCE 46*40'58"/117*19'21"

// tracks
CREATE TRACK SWITCH TURNOUT track15  REFERENCE srl STRAIGHT DELTA START -50:0 END 0:0 CURVE DELTA START 0:0 END -20:20 DISTANCE ORIGIN 20
CREATE TRACK SWITCH TURNOUT track16  REFERENCE $r1 STRAIGHT DELTA START -20:20 END -20:60 CURVE DELTA START -20:20 END - 10:35 DISTANCE ORIGIN 15
CREATE TRACK END 			track20  REFERENCE $rl DELTA 		  START -10:35 END 40:62
CREATE TRACK ROUNDHOUSE 	track17  REFERENCE $r1 DELTA 		  ORIGIN -20:100 ANGLE ENTRY 180 START 270 END 90 WITH 6 SPURS LENGTH 20 TURNTABLE LENGTH 40
CREATE TRACK STRAIGHT 		track1 	 REFERENCE srl DELTA 		  START 0:0 END 50:0
CREATE TRACK BRIDGE 		track13  REFERENCE $r1 DELTA          START 50:0 END 80:0
CREATE TRACK STRAIGHT 		track2   REFERENCE $r1 DELTA 		  START 80:0 END 120:0
CREATE TRACK BRIDGE DRAW 	track14  REFERENCE srl DELTA 		  START 120:0 END 150:0 ANGLE 45
CREATE TRACK SWITCH TURNOUT track3   REFERENCE $r1 STRAIGHT DELTA START 150:0 END 200:0 CURVE DELTA START 150:0 END 200:-30 DISTANCE ORIGIN 50
CREATE TRACK STRAIGHT 		track4   REFERENCE srl DELTA 		  START 200:0 END 220:0
CREATE TRACK STRAIGHT 		track5   REFERENCE $r1 DELTA 		  START 200:-30 END 220: -70
CREATE TRACK CROSSING 		track6   REFERENCE $r1 DELTA 		  START 220:0 END 240:0
CREATE TRACK STRAIGHT 		track11  REFERENCE $r1 DELTA 		  START 240:0 END 280:0
CREATE TRACK BRIDGE 		track7 	 REFERENCE srl DELTA 		  START 220: -70 END 230: -90
CREATE TRACK CURVE 			track8	 REFERENCE $r1 DELTA 		  START 300:-30 END 230: -90 ORIGIN 271: -67
CREATE TRACK CURVE 			track 9  REFERENCE srl DELTA 		  START 300:-30 END 290:-10 ORIGIN 329.4: -2.8
CREATE TRACK CROSSOVER 		track 10 REFERENCE srl DELTA 		  START 280:0 END 300:0 START 290: -10 END 290:10
CREATE TRACK CURVE 			track12  REFERENCE $r1 DELTA 		  START 290:10 END 300:0 DISTANCE ORIGIN -10
CREATE TRACK SWITCH WYE 	track18  REFERENCE $r1 DELTA 		  START -50:0 END -80:20 DISTANCE ORIGIN 35 DELTA START -80:-20 END -50:0 DISTANCE ORIGIN 35
CREATE TRACK CURVE 			track19  REFERENCE srl DELTA 		  START -80:-20 END -80:+20 DISTANCE ORIGIN -45

CREATE TRACK LAYOUT mylayout WITH TRACKS track18 track15 track16 track17 tracki track13 track2 track14 track3 track4 tracks track6 trackii trackz
										 track8 track9 track10 track12 track19 track20


// power
CREATE POWER POLE mypolel ON TRACK track1 DISTANCE 10 FROM START
CREATE POWER POLE mypole2 ON TRACK tracki DISTANCE 20 FROM START
CREATE POWER POLE mypole3 ON TRACK track1 DISTANCE 30 FROM START

CREATE POWER CATENARY mycatenary1 WITH POLES mypolel mypole2 mypole3

CREATE POWER SUBSTATION mysubstation1 REFERENCE $r1 DELTA 100:150 WITH CATENARIES mycatenary1

CREATE POWER STATION mystation REFERENCE $r1 DELTA 200:200 WITH SUBSTATIONS mysubstation1


// actuators
CREATE ACTUATOR mycrossbuckl 	AS CROSSBUCK 	ON TRACK track8 DISTANCE 50  FROM START
CREATE ACTUATOR mystation1 		AS STATION 		ON TRACK track8 DISTANCE 60  FROM START
CREATE ACTUATOR mywatertankl 	AS WATER TANK 	ON TRACK track8 DISTANCE 80  FROM START
CREATE ACTUATOR mygatel 		AS GATE 		ON TRACK track8 DISTANCE 90  FROM START
CREATE ACTUATOR mysemaphorel 	AS SEMAPHORE 	ON TRACK track8 DISTANCE 100 FROM START TOWARD START
CREATE ACTUATOR mysignali 		AS SIGNAL LIGHT ON TRACK track8 DISTANCE 110 FROM START TOWARD END

CREATE SENSOR mySensorOccupancy FOR OCCUPANCY ON TRACK track8 DISTANCE 120 FROM START RANGE 10
CREATE SENSOR mySensorSpeed 	FOR SPEED 	  ON TRACK track8 DISTANCE 130 FROM START RANGE 5


// trains
@DO SET COLLISIONS DISABLE

CREATE STOCK ENGINE mydiesel 		 AS DIESEL ON TRACK track11 DISTANCE 10 FROM START FACING END
CREATE STOCK ENGINE mydieselelectric AS DIESEL ELECTRIC ON TRACK track18 DISTANCE 20 FROM START FACING START
CREATE STOCK ENGINE myelectric 		 AS ELECTRIC ON TRACK tracki DISTANCE 10 FROM START FACING END
CREATE STOCK ENGINE myswitcher 		 AS SWITCHER ON TRACK tracki DISTANCE 10 FROM START FACING END
CREATE STOCK ENGINE mysteam 		 AS STEAM WITH WATER SUPPLY 10 RATE 1 ON TRACK track2 DISTANCE 1 FROM END FACING END
CREATE STOCK CAR 	mycaboose 		 AS CABOOSE
CREATE STOCK CAR 	mybox 			 AS BOX
CREATE STOCK CAR 	myflatbed 		 AS FLATBED
CREATE STOCK CAR 	mypassenger 	 AS PASSENGER
CREATE STOCK CAR 	mytank 			 AS TANK
CREATE STOCK CAR 	mytender 		 AS TENDER // XXX creating and not coupling crashes

LOCATE STOCK my caboose ON TRACK track11 DISTANCE 27.6 FROM START
LOCATE STOCK mybox ON TRACK track11 DISTANCE 36 FROM START
LOCATE STOCK myflatbed ON TRACK track10 DISTANCE 4 FROM START
LOCATE STOCK mypassenger ON TRACK track10 DISTANCE 17 FROM START
LOCATE STOCK mytank ON TRACK track12 DISTANCE 14 FROM END
LOCATE STOCK mytender ON TRACK track12 DISTANCE 26 FROM END

COUPLE STOCK mydiesel AND my caboose
COUPLE STOCK mycaboose AND mybox
COUPLE STOCK mybox AND myflatbed
COUPLE STOCK myflatbed AND mypassenger
COUPLE STOCK mypassenger AND mytank
COUPLE STOCK mytank AND mytender

MAP OCCUPANCY SENSOR mySensorOccupancy TO ACTUATOR mysignali
MAP SPEED SENSOR my SensorSpeed TO ACTUATOR mysemaphorel RESPOND STOP WHEN SPEED GREATER THAN 10

COMMIT

OPEN VIEW myview1 ORIGIN $r1 WORLD WIDTH 1000 SCREEN WIDTH 800 HEIGHT 600

DO SET REFERENCE ENGINE mydiesel
DO SET REFERENCE ENGINE mydieselelectric
DO SET REFERENCE ENGINE myelectric
DO SET REFERENCE ENGINE myswitcher
DO SET REFERENCE ENGINE mysteam

//DO SET mydiesel SPEED 500
@DO FORCE mydiesel
SPEED 500
@DO FORCE mydieselelectric SPEED 250
@DO FORCE myelectric SPEED 50 // does not work unless reference set
@DO FORCE myswitcher SPEED 100
@DO FORCE mysteam SPEED 150