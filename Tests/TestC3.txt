USE r1 AS REFERENCE 46*40'58"/117*19'21"

CREATE TRACK STRAIGHT track1 REFERENCE $r1 DELTA START 50:-50 END +50:+50
CREATE TRACK CURVE track2 REFERENCE $r1 DELTA START -50:+50 END +50:+50 DISTANCE ORIGIN +5
CREATE TRACK STRAIGHT track3 REFERENCE $r1 DELTA START -50:+50 END -50:-50
CREATE TRACK CURVE track4 REFERENCE $r1 DELTA START +50:-50 END -50:-50 DISTANCE ORIGIN -5
CREATE TRACK LAYOUT oval WITH TRACKS track1 track2 track3 track4

@DO SET COLLISIONS ENABLE

CREATE STOCK ENGINE engine1 AS DIESEL ON TRACK track2 DISTANCE 30 FROM END FACING END
CREATE STOCK ENGINE engine2 AS DIESEL ON TRACK track4 DISTANCE 30 FROM START FACING START
CREATE STOCK CAR box1 AS BOX
CREATE STOCK CAR box2 AS BOX
CREATE STOCK CAR caboose1 AS CABOOSE
CREATE STOCK CAR caboose2 AS CABOOSE

LOCATE STOCK box1 ON TRACK track2 DISTANCE 50.6 FROM END
LOCATE STOCK box2 ON TRACK track4 DISTANCE 9.4 FROM START
LOCATE STOCK caboose1 ON TRACK track2 DISTANCE 58.6 FROM END
LOCATE STOCK caboose2 ON TRACK track4 DISTANCE 1.4 FROM START

COUPLE STOCK engine1 AND box1
COUPLE STOCK box1 AND caboose1
COUPLE STOCK engine2 AND box2
COUPLE STOCK box2 AND caboose2

COMMIT

OPEN VIEW myview1 ORIGIN $r1 WORLD WIDTH 500 SCREEN WIDTH 800 HEIGHT 800

DO SET REFERENCE ENGINE engine1
DO SET REFERENCE ENGINE engine2

DO SET engine1 SPEED 500
DO SET engine2 SPEED 60
